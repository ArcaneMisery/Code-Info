# Функции
```javascript

function nameOfFunction(values) {
  //what function will do
...
};
// далее функцию нужно вызвать
nameOfFunction();

//переменные в функции
function example(){
   let b = alert(`blbllb`);
};
alert(b);// ошибка ибо переменная локальна и известна только функции

// внешние переменные
let user = `wasya`;

function showMessage() {
   let message = `Привет,` + user;
   alert(message);
}
showMessage();
// у функции есть доступ к переменным заданным вне ее
// функция даже может изменять значение переменной
let user = `Ivan`
function showMessage(){
   user = `Isac` 
   let message = user + `Привет!`:
   alert(message);
}
alert(user)// Isac измененное в функции
// ВАЖНО если мы зададим переменную внутри функции с таким же названием то она будет новой не той же что была обьявлена внешне.
```
Лучше всего сводить количество глобальных переменных к минимуму!
## Параметры  

```javascript
function showMessage(from, text){
   alert(form + `:` + text);
};
showMessage(`Маша`, `Привет!`);// в переменные from и text передались значения маша и привет
showMessage(`Ann`, `How do you do?`);// Ann : How do you do?
//-----------------------------------------------------------------------

function showMessage(from, text) {

  from = '*' + from + '*'; // переменная = `*` + переменная + `*`

  alert( from + ': ' + text );
}

let from = "Аня"; // это уже другая переменная

showMessage(from, "Привет"); // *Аня*: Привет

// значение "from" осталось прежним, функция изменила значение локальной переменной
alert( from ); // Аня  
//----------------------------------------------------------
showMessage("Аня");// Аня : undefined
// если мы не указываем значение второй переменной оно будет undefined 

// Если мы хотим добавить значение по умолчанию это делается таким образом
function showMessage(from, text = "текст не добавлен") {
  alert( from + ": " + text );
}
showMessage("Аня"); // Аня: текст не добавлен  
// в таком случае если мы не указали параметр у нас он будет по умолчанию
// но бывают такие вещи и намного сложнее  

//допустим функция которая будет вычислятся если не задан параметр
function showMessage(from, text = anotherFunction()) {
  // anotherFunction() выполнится только если не передан text
  // результатом будет значение text
}
```
## Возврат значения
```javascript
function sum(a, b){
   return a + b;// как только директива доходит до return, функция останавливается и значение возвращается в вызвавший ее код
};
let result = sum(1, 2);  

// return можно вызывать несколько раз
function checkAge(age) {
  if (age > 18) {
    return true;
  } else {
    return confirm('А родители разрешили?');
  }
}

let age = prompt('Сколько вам лет?', 18);

if ( checkAge(age) ) {
  alert( 'Доступ получен' );
} else {
  alert( 'Доступ закрыт' );
}  
// если использовать return без значения, это будет просто выход из функции
// если функция ничег не воззвращает это все равно что она возвращает Undefined
return
 (some + long + expression + or + whatever * f(a) + f(b))
 // нельзя переносить на новую строку выражение после return 
 // а так же нельзя ставить return; (логично)
 // если выражение занимает несколько строк это стоит записать таким образоми
 return (
  some + long + expression
  + or +
  whatever * f(a) + f(b)
 )
```
## Выбор имени функции
функция это действие так что обычно ее обзывают глаголом
```javascript
showMessage(..)     // показывает сообщение
getAge(..)          // возвращает возраст (в каком-либо значении)
calcSum(..)         // вычисляет сумму и возвращает результат
createForm(..)      // создаёт форму (и обычно возвращает её)
checkPermission(..) // проверяет доступ, возвращая true/false
```
**Правило** одна функция одно дествие -  функция должна выполнять только то то что ей задано в названии.  
Если функция так или иначе получается слишком большой и не совсем начинает следовать правилу, следует оставлять комментарии.  
# Выражение функций Function Expression
```javascript
function sayHi() {
   alert('hello!');
}
//обычнео обьявление функции
// обьявление функций expression
let sayHi = function() {
   alert('hello');
}//мы поместтили функцию в переменную
alert( sayHi)// выведет код функции в строковой форме

//изходя из этого функцию можно копировать
function sayHi() {
   alert('Hi'); // создание
}
let func = sayHi; // копирование
func()  //Hi
sayHi()  // Hi
```
## функции коллбэки
```javascript
function ask(question, yes, no){
   if (confirm(question)) yes()
   else no()
}
function showOk(){
   alert('вы согласны')
}
function showCancel() {
alert('вы отменили выполнение');
}

ask('вы согласны?', showOk, showCancel);
// аргументы функции ask называются функциями коллбэками
// ключевая идея в том что мы передаем функцию и ожидаем что она вызовется обратно в этом случае showOk стала коллбеком для yes, а showCancel стала коллбеком для no.

// все это можно переписать с помощью function expression
function ask(question, yes, no) {
   if (confirm(question)) yes()
   else no()
};

ask(
   'Вы согласны?',
   function showOk (){alert('вы согласились.')}
   function showCnacel () {alert('отмена');} 
);
// две функции обьявились прямо внутри вызова say 
```
**Итого**  
Основные различия синтаксиса двух подходов
```javascript
function sum(a, b) {
   return a + b;
};
let sum = function(a, b) {
   return a + b;
};
```
Более тонкое отличие заключается в том когда создается функция движком js  
**function expression создается когда выполнение доходит до него и затем уже может использоватся**  
После того, как поток выполнения достигнет правой части выражения присваивания let sum = function… – с этого момента, функция считается созданной и может быть использована (присвоена переменной, вызвана и т.д. ).  

**function declaration же можно вызывать во всем скрипте(или блоке кода если функция обьявлена там)**  
Другими словами движок js готовится выполнять скрипт прежде всего он ищет в нем все функции обьявленные стандартным образом и создает их.  
Поэтому функции могут вызыаться раньше определений к примеру  
```javascript
sayHi('wasya') // hi, wasya

function sayHi(name) {
   alert(`hi, ${name}` );
};
// пожтому так будет работать
```
Если бы выражение было написано в стиле expression это была бы ошибка
```javascript
sayHi("wasya"); // ошибка!

let sayHi = function(name) {  // (*) магии больше нет
  alert( `hi, ${name}` );
};
```  
Еще одна важная особенность заключается в области видимости  
Глобально в обычном обьявлении функции переменные заданные в ней буду видны только функции
```javascript
let age = prompt("Сколько Вам лет?", 18);
// в зависимости от условия объявляем функцию
if (age < 18) {
  function welcome() {
    alert("Привет!");
  }
} else {
  function welcome() {
    alert("Здравствуйте!");
  }
}
// ...не работает
welcome(); // Error: welcome is not defined
// так произошло ибо обьявление двух функции внутри другой известно тольо дочерней йункции и ее вложенностям

// в таких случаях стоит использовать exprtession 
let age = prompt("Сколько Вам лет?", 18);

let welcome = (age < 18) ?
  function() { alert("Привет!"); } :
  function() { alert("Здравствуйте!"); };

welcome(); // теперь всё в порядке
```
## Когда какой подход стоит испльзовать  
В первую очередь стоит по умолчанию расматривать стандартный подход declaration однако если по той или иной причине не получается совершить задуманное стоит использовать подход expression.  
# Функции стрелки  
Существует еще более простой и краткий синтаксис написания чем function expression
```javascript
let func = (arg1, arg2, arg3) => expression;
// код создает функцию func  передает в нее аргументы и вычисляет expression 
// по сути это просто более короткий вариант записи

let func = function(arg1, arg2, ...argN) {
  return expression;
};
// конкретный пример

let sum = (a, b) => a + b;
/*
let sum = function(a,b){
   return a + b;
}
*/
alert(sum(1, 2)) // 3
// то есть стрелочная функция на автомате вощвращает результат

// если аргумент лоишь один скобки можно вовсе опустить
let double = n => n * 2;
alert(double(3)) // 6
// если аргументов нет нужно оставить пустые скобки
let sayHi = () => alert(`hi`);
alert(sayHi()) // Hi

// стрелки используются так же как и expression например для динамического создания функций
let age = prompt('сколько вам лет', 18);

let welcom = (age) => (age < 18) ?
   () => alert('Hi') :
   () => alert('Hello');

welcome()
```
## Многострочные стрелочные функции  
выше оргументы писались слева от стрелки а справа было вычисление
Поорой нужно что либо сложнее и обьемнее
```javascript
// для записи многострочных срелочных функций нужно использовать {}
let sum = (a, b) => {
   let result = a + b
   return result;
};
alert( sum(1, 2) ); // 3

```
